# Fixer – 알고리즘 학습 보조 웹 플랫폼

## 1. 프로젝트 개요

Fixer는 알고리즘 문제 풀이를 위한 통합 학습 보조 웹 도구이다.

- 브라우저에서 바로 코드를 작성하고 실행할 수 있는 코드 실행기
- 그래프·배열 등을 손으로 그리며 사고 과정을 정리할 수 있는 시각화 도구
- 자연어 문제 설명만으로 입력·출력 예시를 자동 생성하는 테스트 케이스 생성기
- 문제 전문을 입력하면 정답 코드 대신 풀이 아이디어와 로직 힌트를 제공하는 AI 풀이 힌트 기능
- 풀이 과정을 블로그 글처럼 기록하고, 오늘 푼 문제들을 빠르게 다시 열람할 수 있는 기록 시스템

프론트엔드는 GitHub Pages, 백엔드는 Render에 배포된 Node.js 서버로 동작하며,  
OpenAI API와 JDoodle 코드 실행 API를 활용해 AI 기반 기능과 실제 코드 실행을 지원한다.

---

## 2. 주요 기능

### 2.1 코드 실행기

- 지원 언어: C, C++(공통), Python  
  (백엔드 JDoodle 설정에 따라 확장 가능)
- 구성 요소
  - 언어 선택 드롭다운
  - 코드 편집 텍스트 영역
  - 입력값을 작성하는 콘솔 영역
  - 실행 결과가 출력되는 터미널 영역
- 동작 방식
  - 사용자가 콘솔 영역에 입력값을 작성하면 실행 시 stdin으로 전달된다.
  - 코드, 언어, stdin을 Render 백엔드의 `/api/run` 엔드포인트로 전송한다.
  - 백엔드는 JDoodle API를 호출하여 코드를 컴파일·실행하고 stdout, stderr, 실행 시간, 메모리 정보를 반환한다.
  - 프론트엔드는 결과를 터미널에 그대로 출력하고, stderr가 있을 경우 별도 블록으로 표시한다.
  - 실행 중에는 버튼 텍스트가 "실행 중…"으로 바뀌고, 중복 요청을 막기 위해 비활성화된다.

### 2.2 시각화 도구

- HTML5 Canvas 기반의 간단한 그림판/시각화 보드
- 기능
  - 클릭으로 정점을 찍거나, 드래그로 선·도형을 그릴 수 있는 캔버스
  - 정점(원), 선, 박스 등 기본 도형 도구
  - 텍스트 도구: 클릭/드래그로 텍스트 위치를 지정하고 라벨을 입력 가능
  - 히스토리 관리: 작업 상태를 순차적으로 저장하여 undo/redo 지원
- 용도
  - 그래프 문제에서 정점/간선을 직접 그려 보며 구조를 이해
  - DP 테이블, 슬라이딩 윈도우 등 자료 구조·알고리즘 과정을 시각적으로 메모

### 2.3 테스트 케이스 생성기

- 사용자가 자연어로 문제 설명을 입력하면 AI가 테스트 케이스를 생성한다.
- 입력 항목
  - 문제 설명 / 입력 및 출력 형식 / 제약 조건
  - 원하는 테스트 케이스 개수, 난이도 등 (스크립트에 반영된 범위 내)
- 동작 방식
  - 프론트엔드에서 `/api/testcases`로 JSON 요청을 전송한다.
  - 백엔드 `testcaseService`가 OpenAI API에 프롬프트를 전달하여 케이스 목록(JSON)을 생성한다.
  - 예시:
    ```json
    {
      "cases": [
        { "input": "3 5", "output": "8", "note": "기본 예제" }
      ]
    }
    ```
  - 프론트에서는 이를 사람이 읽기 편한 텍스트 형식으로 변환하여 표시한다.
- 로딩 중에는 반투명 오버레이와 스피너를 표시하여 진행 상황을 안내한다.

### 2.4 풀이 힌트

- "정답 코드" 대신 "풀이 아이디어"를 제공하는 기능에 집중하였다.
- 사용 방식
  - 문제 전문(설명, 입력/출력 형식, 제약 조건)을 그대로 붙여 넣는다.
  - "풀이 힌트 요청" 버튼을 누르면 AI가 문제 해결 아이디어를 생성한다.
- 백엔드 동작
  - `/api/solution` 엔드포인트로 `description`과 고정된 `mode` 값(풀이 개요 수준)을 전송한다.
  - `solutionService`가 OpenAI API에 다음 정보를 요청한다.
    - 전체 설명용 텍스트
    - 단계별 풀이 과정 리스트
  - 응답은 JSON 형태로 파싱되어 프론트에 전달된다.
- 프론트 표시
  - 왼쪽: 문제 전문 입력 영역
  - 오른쪽: AI 풀이 힌트 영역
    - 상단에 모드(풀이 개요) 표시
    - 본문 설명
    - 단계별 풀이 과정 목록
  - 요청 중에는 테스트 케이스 생성기와 동일한 형태의 로딩 스피너를 표시하여 사용자 경험을 통일한다.

### 2.5 문제풀이 기록

- 브라우저 로컬에 저장되는 개인용 풀이 노트 기능
- 기능 구성
  - 사이트: BOJ, Programmers, LeetCode, 기타 등 선택 필드
  - 제목/문제 번호
  - 본문(풀이 아이디어, 코드 일부, 주의할 점 등 자유롭게 작성)
- 동작 방식
  - LocalStorage 키: `algoHelperProblemNotes`
  - 데이터 구조: `{ id, site, title, content, createdAt, updatedAt }` 형태의 배열
  - 새 기록 작성, 기존 기록 수정, 개별 삭제, 전체 삭제를 지원한다.
  - 목록 화면과 편집 화면을 전환하여 블로그처럼 관리할 수 있다.
  - 저장 시 작성/수정 시간이 자동으로 기록되며, 목록은 최신순으로 정렬된다.

### 2.6 오늘 푼 문제 빠른 이동

- 사이드바 하단의 "오늘 푼 문제" 영역
- 오늘 날짜 기준으로 생성된 기록 중 가장 최근 5개를 버튼 형태로 표시한다.
- 버튼을 클릭하면:
  - 자동으로 "문제풀이 기록" 탭으로 전환된다.
  - 해당 문제의 기록 편집 화면을 즉시 열어 준다.
- 하루 동안 풀었던 문제를 복습하거나, 발표·설명 시 바로 꺼내 보기 좋도록 설계하였다.

---

## 3. 시스템 구조

### 3.1 전체 구조

- Frontend
  - GitHub Pages에서 호스팅
  - 정적 파일: `docs/index.html`, `docs/script.js`, `docs/style.css`
- Backend
  - Render에 배포된 Node.js + Express 서버
  - API 엔드포인트
    - `POST /api/testcases` – 테스트 케이스 생성
    - `POST /api/solution` – 풀이 힌트 생성
    - `POST /api/run` – 코드 실행 (JDoodle 연동)

프론트엔드에서는 `window.location.hostname`을 기준으로

- 로컬 접속 시: `http://localhost:3000`
- GitHub Pages 등 외부 접속 시: Render 백엔드 URL

로 자동 분기하여 API를 호출한다.

### 3.2 디렉터리 구조

```text
Fixer/
├─ docs/                     # 프론트엔드 (GitHub Pages)
│  ├─ index.html             # 레이아웃 / 탭 구조 / 패널 정의
│  ├─ script.js              # 탭 전환, 시각화 도구, TC 생성기, 코드 실행기, 풀이 힌트, 기록 로직
│  └─ style.css              # VSCode 느낌 다크 테마, 사이드바/패널/콘솔/캔버스 스타일
│
└─ server/                   # 백엔드 (Render에 배포)
   ├─ package.json
   ├─ package-lock.json
   ├─ .env                   # 환경 변수 (로컬 전용, Git에 커밋하지 않음)
   └─ src/
      ├─ server.js           # Express 서버 엔트리, 라우터/미들웨어 연결
      ├─ config/
      │  └─ env.js           # dotenv로 환경 변수 로드
      ├─ routes/
      │  ├─ testcases.js     # POST /api/testcases
      │  ├─ solution.js      # POST /api/solution
      │  └─ run.js           # POST /api/run
      ├─ services/
      │  ├─ openaiClient.js  # OpenAI SDK 클라이언트 초기화
      │  ├─ testcaseService.js
      │  ├─ solutionService.js
      │  └─ runService.js    # JDoodle API 호출 로직
      └─ middlewares/
         └─ errorHandler.js  # 공통 에러 처리 미들웨어
